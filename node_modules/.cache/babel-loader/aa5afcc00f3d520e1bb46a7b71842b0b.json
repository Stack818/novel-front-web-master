{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"main box_center cf mb50\"\n};\nconst _hoisted_2 = {\n  class: \"channelRankingContent cf\"\n};\nconst _hoisted_3 = {\n  class: \"wrap_left fl\"\n};\nconst _hoisted_4 = {\n  class: \"wrap_bg\"\n};\nconst _hoisted_5 = {\n  class: \"pad20\"\n};\nconst _hoisted_6 = {\n  class: \"book_tit\"\n};\nconst _hoisted_7 = {\n  class: \"fl\"\n};\nconst _hoisted_8 = {\n  class: \"font26 mt5 mb5\",\n  id: \"rankName\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"fr\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"updateTable rankTable\"\n};\nconst _hoisted_11 = {\n  cellpadding: \"0\",\n  cellspacing: \"0\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"rank\"\n}, \"排名\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"style\"\n}, \"类别\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"name\"\n}, \"书名\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"chapter\"\n}, \"最新章节\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"author\"\n}, \"作者\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"word\"\n}, \"字数\")])], -1 /* HOISTED */);\nconst _hoisted_13 = {\n  id: \"bookRankList\"\n};\nconst _hoisted_14 = {\n  class: \"rank\"\n};\nconst _hoisted_15 = {\n  class: \"style\"\n};\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = {\n  class: \"name\"\n};\nconst _hoisted_18 = [\"onClick\"];\nconst _hoisted_19 = {\n  class: \"chapter\"\n};\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = {\n  class: \"author\"\n};\nconst _hoisted_22 = {\n  href: \"javascript:void(0)\"\n};\nconst _hoisted_23 = {\n  class: \"word\"\n};\nconst _hoisted_24 = {\n  class: \"wrap_right fr\"\n};\nconst _hoisted_25 = {\n  class: \"wrap_inner wrap_right_cont mb20\"\n};\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title cf noborder\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"on\"\n}, \"排行榜\")], -1 /* HOISTED */);\nconst _hoisted_27 = {\n  class: \"rightList2\"\n};\nconst _hoisted_28 = {\n  id: \"rankType\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Header), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\"榜单详情 start\"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h3\", _hoisted_8, _toDisplayString(_ctx.rankName), 1 /* TEXT */)]), _hoisted_9]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"table\", _hoisted_11, [_hoisted_12, _createElementVNode(\"tbody\", _hoisted_13, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.books, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", _hoisted_14, [_createElementVNode(\"i\", {\n      class: _normalizeClass('num' + (Number(`${index}`) + 1))\n    }, _toDisplayString(index + 1), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_15, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0)\",\n      onClick: $event => $setup.bookDetail(item.id)\n    }, \"[\" + _toDisplayString(item.categoryName) + \"]\", 9 /* TEXT, PROPS */, _hoisted_16)]), _createElementVNode(\"td\", _hoisted_17, [_createElementVNode(\"a\", {\n      onClick: $event => $setup.bookDetail(item.id),\n      href: \"javascript:void(0)\"\n    }, _toDisplayString(item.bookName), 9 /* TEXT, PROPS */, _hoisted_18)]), _createElementVNode(\"td\", _hoisted_19, [_createElementVNode(\"a\", {\n      onClick: $event => $setup.bookDetail(item.id),\n      href: \"javascript:void(0)\"\n    }, _toDisplayString(item.lastChapterName), 9 /* TEXT, PROPS */, _hoisted_20)]), _createElementVNode(\"td\", _hoisted_21, [_createElementVNode(\"a\", _hoisted_22, _toDisplayString(item.authorName), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_23, _toDisplayString($options.wordCountFormat(item.wordCount)), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]), _createCommentVNode(\"榜单详情 end\")])]), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"div\", _hoisted_25, [_hoisted_26, _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"ul\", _hoisted_28, [_createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    class: _normalizeClass(`${_ctx.rankType == 1 ? 'on' : ''}`),\n    href: \"javascript:void(0)\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.visitRank && $setup.visitRank(...args))\n  }, \"点击榜\", 2 /* CLASS */)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    class: _normalizeClass(`${_ctx.rankType == 2 ? 'on' : ''}`),\n    href: \"javascript:void(0)\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.newestRank && $setup.newestRank(...args))\n  }, \"新书榜\", 2 /* CLASS */)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    class: _normalizeClass(`${_ctx.rankType == 3 ? 'on' : ''}`),\n    href: \"javascript:void(0)\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.updateRank && $setup.updateRank(...args))\n  }, \"更新榜\", 2 /* CLASS */)])])])])])])]), _createVNode(_component_Footer)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","id","_createElementVNode","cellpadding","cellspacing","href","_createVNode","_component_Header","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_ctx","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_createElementBlock","_Fragment","item","index","key","_hoisted_14","Number","_hoisted_15","onClick","$setup","categoryName","_hoisted_17","bookName","_hoisted_19","lastChapterName","_hoisted_21","_hoisted_22","authorName","_hoisted_23","$options","wordCount","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_component_Footer"],"sourceRoot":"","sources":["D:\\desktop\\novel-front-web-master\\src\\views\\BookRank.vue"],"sourcesContent":["<template>\n  <Header />\n\n  <div class=\"main box_center cf mb50\">\n    <div class=\"channelRankingContent cf\">\n      <div class=\"wrap_left fl\">\n        <div class=\"wrap_bg\">\n          <!--榜单详情 start-->\n          <div class=\"pad20\">\n            <div class=\"book_tit\">\n              <div class=\"fl\">\n                <h3 class=\"font26 mt5 mb5\" id=\"rankName\">{{ rankName }}</h3>\n              </div>\n              <a class=\"fr\"></a>\n            </div>\n            <div class=\"updateTable rankTable\">\n              <table cellpadding=\"0\" cellspacing=\"0\">\n                <thead>\n                  <tr>\n                    <th class=\"rank\">排名</th>\n                    <th class=\"style\">类别</th>\n                    <th class=\"name\">书名</th>\n                    <th class=\"chapter\">最新章节</th>\n                    <th class=\"author\">作者</th>\n                    <th class=\"word\">字数</th>\n                  </tr>\n                </thead>\n                <tbody id=\"bookRankList\">\n                  <tr v-for=\"(item, index) in books\" :key=\"index\">\n                    <td class=\"rank\">\n                      <i :class=\"'num' + (Number(`${index}`) + 1)\">{{\n                        index + 1\n                      }}</i>\n                    </td>\n                    <td class=\"style\">\n                      <a href=\"javascript:void(0)\" @click=\"bookDetail(item.id)\"\n                        >[{{ item.categoryName }}]</a\n                      >\n                    </td>\n                    <td class=\"name\">\n                      <a\n                        @click=\"bookDetail(item.id)\"\n                        href=\"javascript:void(0)\"\n                        >{{ item.bookName }}</a\n                      >\n                    </td>\n                    <td class=\"chapter\">\n                      <a\n                        @click=\"bookDetail(item.id)\"\n                        href=\"javascript:void(0)\"\n                        >{{ item.lastChapterName }}</a\n                      >\n                    </td>\n                    <td class=\"author\">\n                      <a href=\"javascript:void(0)\">{{ item.authorName }}</a>\n                    </td>\n                    <td class=\"word\">{{ wordCountFormat(item.wordCount) }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <!--榜单详情 end-->\n        </div>\n      </div>\n\n      <div class=\"wrap_right fr\">\n        <div class=\"wrap_inner wrap_right_cont mb20\">\n          <div class=\"title cf noborder\">\n            <h3 class=\"on\">排行榜</h3>\n          </div>\n          <div class=\"rightList2\">\n            <ul id=\"rankType\">\n              <li>\n                <a :class=\"`${rankType == 1 ? 'on' : ''}`\" href=\"javascript:void(0)\" @click=\"visitRank\"\n                  >点击榜</a\n                >\n              </li>\n              <li>\n                <a :class=\"`${rankType == 2 ? 'on' : ''}`\" href=\"javascript:void(0)\" @click=\"newestRank\">新书榜</a>\n              </li>\n              <li>\n                <a :class=\"`${rankType == 3 ? 'on' : ''}`\" href=\"javascript:void(0)\" @click=\"updateRank\">更新榜</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport \"@/assets/styles/book.css\";\nimport { reactive, toRefs, onMounted, ref } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport {\n  listVisitRankBooks,\n  listUpdateRankBooks,\n  listNewestRankBooks,\n} from \"@/api/book\";\nimport Header from \"@/components/common/Header\";\nimport Footer from \"@/components/common/Footer\";\nexport default {\n  name: \"bookRank\",\n  components: {\n    Header,\n    Footer,\n  },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    const state = reactive({\n      books: [],\n      rankName: \"点击榜\",\n      rankType: 1,\n    });\n    onMounted(() => {\n      visitRank();\n    });\n\n    const visitRank = async () => {\n      const { data } = await listVisitRankBooks();\n      state.books = data;\n      state.rankName = \"点击榜\";\n      state.rankType = 1;\n    };\n\n    const newestRank = async () => {\n      const { data } = await listNewestRankBooks();\n      state.books = data;\n      state.rankName = \"新书榜\";\n      state.rankType = 2;\n    };\n\n    const updateRank = async () => {\n      const { data } = await listUpdateRankBooks();\n      state.books = data;\n      state.rankName = \"更新榜\";\n      state.rankType = 3;\n    };\n\n    const bookDetail = (bookId) => {\n      router.push({ path: `/book/${bookId}` });\n    };\n\n    return {\n      ...toRefs(state),\n      bookDetail,\n      newestRank,\n      visitRank,\n      updateRank,\n    };\n  },\n  computed: {\n    wordCountFormat(wordCount) {\n      return (wordCount) => {\n        if (wordCount.length > 5) {\n          return parseInt(wordCount / 10000) + \"万\";\n        }\n        if (wordCount.length > 4) {\n          return parseInt(wordCount / 1000) + \"千\";\n        }\n        return wordCount;\n      };\n    },\n  },\n};\n</script>\n\n<style>\n.el-pagination {\n  justify-content: center;\n}\n.el-pagination.is-background .el-pager li:not(.is-disabled).is-active {\n  background-color: #f80 !important;\n}\n.el-pagination {\n  --el-pagination-hover-color: #f80 !important;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}