{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  id: \"bookrank1_ShowBookRank\"\n};\nconst _hoisted_2 = {\n  class: \"rightBox\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title cf\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"on\"\n}, \"点击榜单\")], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"rightList\"\n};\nconst _hoisted_5 = {\n  id: \"clickRankBooks\"\n};\nconst _hoisted_6 = {\n  class: \"book_name\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  class: \"book_intro\"\n};\nconst _hoisted_9 = {\n  class: \"cover\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"src\", \"alt\"];\nconst _hoisted_12 = [\"onClick\", \"innerHTML\"];\nconst _hoisted_13 = {\n  class: \"more\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\"查看更多>\");\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"ul\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.books, (item, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index,\n      class: _normalizeClass(['num' + (Number(`${index}`) + 1), {\n        on: index == 0\n      }])\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"i\", null, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"a\", {\n      class: \"name\",\n      href: \"javascript:void(0)\",\n      onClick: $event => $setup.bookDetail(item.id)\n    }, _toDisplayString(item.bookName), 9 /* TEXT, PROPS */, _hoisted_7)]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0)\",\n      onClick: $event => $setup.bookDetail(item.id)\n    }, [_createElementVNode(\"img\", {\n      src: `${_ctx.imgBaseUrl}` + `${item.picUrl}`,\n      alt: item.bookName,\n      onerror: \"this.src='default.gif';this.onerror=null\"\n    }, null, 8 /* PROPS */, _hoisted_11)], 8 /* PROPS */, _hoisted_10)]), _createElementVNode(\"a\", {\n      class: \"txt\",\n      href: \"javascript:void(0)\",\n      onClick: $event => $setup.bookDetail(item.id),\n      innerHTML: item.bookDesc\n    }, null, 8 /* PROPS */, _hoisted_12)])], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_13, [_createVNode(_component_router_link, {\n    to: {\n      name: 'bookRank'\n    }\n  }, {\n    default: _withCtx(() => [_hoisted_14]),\n    _: 1 /* STABLE */\n  })])])])]);\n}","map":{"version":3,"mappings":";;EACOA,EAAE,EAAC;AAAwB;;EACrBC,KAAK,EAAC;AAAU;gCACnBC,oBAEM;EAFDD,KAAK,EAAC;AAAU,iBACnBC,oBAAwB;EAApBD,KAAK,EAAC;AAAI,GAAC,MAAI;;EAEhBA,KAAK,EAAC;AAAW;;EAChBD,EAAE,EAAC;AAAgB;;EAEfC,KAAK,EAAC;AAAW;;;EAMlBA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAO;;;;;EAcjBA,KAAK,EAAC;AAAM;kDACyB,OAAQ;;;uBA9B5DE,oBAkCU,OAlCVC,UAkCU,GAjCJF,oBAgCM,OAhCNG,UAgCM,GA/BJC,UAEM,EACNJ,oBA2BM,OA3BNK,UA2BM,GA1BJL,oBAsBK,MAtBLM,UAsBK,sBArBHL,oBAmBKM,6BAnBsBC,UAAK,GAApBC,IAAI,EAACC,KAAK;yBAAtBT,oBAmBK;MAnB8BU,GAAG,EAAED,KAAK;MAAGX,KAAK,4BAAYa,MAAM,IAAIF,KAAK;QAAAG,IAAgBH,KAAK;MAAA;QACpGV,oBAKK,OALLc,UAKK,GAJJd,oBACC,4BADKU,KAAK,sBACVV,oBAEK;MAFFD,KAAK,EAAC,MAAM;MAACgB,IAAI,EAAC,oBAAoB;MAAEC,OAAK,YAAEC,iBAAU,CAACR,IAAI,CAACX,EAAE;wBACnEW,IAAI,CAACS,QAAQ,uCAGjBlB,oBAUM,OAVNmB,UAUM,GATJnB,oBAOM,OAPNoB,UAOM,GANJpB,oBAKM;MALHe,IAAI,EAAC,oBAAoB;MAAEC,OAAK,YAAEC,iBAAU,CAACR,IAAI,CAACX,EAAE;QACpDE,oBAID;MAHGqB,GAAG,KAAKb,eAAU,QAAQC,IAAI,CAACa,MAAM;MACrCC,GAAG,EAAEd,IAAI,CAACS,QAAQ;MACnBM,OAAO,EAAC;0EAGdxB,oBAAiG;MAA9FD,KAAK,EAAC,KAAK;MAACgB,IAAI,EAAC,oBAAoB;MAAEC,OAAK,YAAEC,iBAAU,CAACR,IAAI,CAACX,EAAE;MAAG2B,SAAsB,EAAdhB,IAAI,CAACiB;;oCAMvF1B,oBAEM,OAFN2B,WAEM,GADJC,aAA8DC;IAAhDC,EAAE,EAAE;MAAAC;IAAA;EAAoB;sBAAE,MAAQ","names":["id","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_ctx","item","index","key","Number","on","_hoisted_6","href","onClick","$setup","bookName","_hoisted_8","_hoisted_9","src","picUrl","alt","onerror","innerHTML","bookDesc","_hoisted_13","_createVNode","_component_router_link","to","name"],"sourceRoot":"","sources":["D:\\desktop\\novel-front-web-master\\src\\components\\home\\BookVisitRank.vue"],"sourcesContent":["<template>\n  <div id=\"bookrank1_ShowBookRank\">\n        <div class=\"rightBox\">\n          <div class=\"title cf\">\n            <h3 class=\"on\">点击榜单</h3>\n          </div>\n          <div class=\"rightList\">\n            <ul id=\"clickRankBooks\">\n              <li v-for=\"(item,index) in books\" :key=\"index\" :class=\"['num' + (Number(`${index}`) + 1), { on: index == 0 }]\">\n               <div class=\"book_name\">\n                <i>{{ index + 1 }}</i\n                ><a class=\"name\" href=\"javascript:void(0)\" @click=\"bookDetail(item.id)\">{{\n                  item.bookName\n                }}</a>\n              </div>\n              <div class=\"book_intro\">\n                <div class=\"cover\">\n                  <a href=\"javascript:void(0)\" @click=\"bookDetail(item.id)\"\n                    ><img\n                      :src=\"`${imgBaseUrl}` + `${item.picUrl}`\"\n                      :alt=\"item.bookName\"\n                      onerror=\"this.src='default.gif';this.onerror=null\"\n                  /></a>\n                </div>\n                <a class=\"txt\" href=\"javascript:void(0)\" @click=\"bookDetail(item.id)\" v-html=\"item.bookDesc\"></a>\n              </div>\n             \n              </li>\n              \n            </ul>\n            <div class=\"more\">\n              <router-link :to=\"{ name: 'bookRank' }\">查看更多&gt;</router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n</template>\n\n<script>\nimport { reactive, toRefs, onMounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { listVisitRankBooks } from \"@/api/book\";\nexport default {\n  name: \"BookVisitRank\",\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const state = reactive({\n      books: [],\n      imgBaseUrl: process.env.VUE_APP_BASE_IMG_URL\n    });\n\n    onMounted(async () => {\n      const { data } = await listVisitRankBooks();\n\n      await data.forEach((book) => {\n        \n          if(state.books.length < 10){\n            state.books[state.books.length] = book;\n          }\n          \n        })\n\n      \n    });\n\n    const bookDetail = (bookId) => {\n      router.push({ path: `/book/${bookId}` });\n    };\n    return {\n      ...toRefs(state),\n      bookDetail,\n    };\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}