{"ast":null,"code":"import { ref, watchEffect, watch, unref, computed, onMounted, nextTick, onBeforeUnmount } from 'vue';\nimport '../../../../utils/index2.mjs';\nimport '../../../../hooks/index2.mjs';\nimport { parseHeight } from '../util2.mjs';\nimport { addResizeListener, removeResizeListener } from '../../../../utils/dom/resize-event2.mjs';\nimport { on, off } from '../../../../utils/dom/event2.mjs';\nimport { useSize } from '../../../../hooks/use-common-props/index2.mjs';\nimport { isString } from '@vue/shared';\nimport { isNumber } from '@vueuse/core';\nfunction useStyle(props, layout, store, table) {\n  const isHidden = ref(false);\n  const renderExpanded = ref(null);\n  const resizeProxyVisible = ref(false);\n  const setDragVisible = visible => {\n    resizeProxyVisible.value = visible;\n  };\n  const resizeState = ref({\n    width: null,\n    height: null\n  });\n  const isGroup = ref(false);\n  const scrollbarViewStyle = {\n    display: \"inline-block\",\n    verticalAlign: \"middle\"\n  };\n  const tableWidth = ref();\n  watchEffect(() => {\n    layout.setHeight(props.height);\n  });\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight);\n  });\n  watch(() => [props.currentRowKey, store.states.rowKey], ([currentRowKey, rowKey]) => {\n    if (!unref(rowKey)) return;\n    store.setCurrentRowKey(`${currentRowKey}`);\n  }, {\n    immediate: true\n  });\n  watch(() => props.data, data => {\n    table.store.commit(\"setData\", data);\n  }, {\n    immediate: true,\n    deep: true\n  });\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys);\n    }\n  });\n  const handleMouseLeave = () => {\n    table.store.commit(\"setHoverRow\", null);\n    if (table.hoverState) table.hoverState = null;\n  };\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const {\n      pixelX,\n      pixelY\n    } = data;\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5;\n    }\n  };\n  const shouldUpdateHeight = computed(() => {\n    return props.height || props.maxHeight || store.states.fixedColumns.value.length > 0 || store.states.rightFixedColumns.value.length > 0;\n  });\n  const tableBodyStyles = computed(() => {\n    return {\n      width: layout.bodyWidth.value ? `${layout.bodyWidth.value}px` : \"\"\n    };\n  });\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight();\n    }\n    layout.updateColumnsWidth();\n    requestAnimationFrame(syncPostion);\n  };\n  onMounted(async () => {\n    await nextTick();\n    store.updateColumns();\n    bindEvents();\n    requestAnimationFrame(doLayout);\n    resizeState.value = {\n      width: tableWidth.value = table.vnode.el.offsetWidth,\n      height: table.vnode.el.offsetHeight\n    };\n    store.states.columns.value.forEach(column => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit(\"filterChange\", {\n          column,\n          values: column.filteredValue,\n          silent: true\n        });\n      }\n    });\n    table.$ready = true;\n  });\n  const setScrollClassByEl = (el, className) => {\n    if (!el) return;\n    const classList = Array.from(el.classList).filter(item => !item.startsWith(\"is-scrolling-\"));\n    classList.push(layout.scrollX.value ? className : \"is-scrolling-none\");\n    el.className = classList.join(\" \");\n  };\n  const setScrollClass = className => {\n    const {\n      tableWrapper\n    } = table.refs;\n    setScrollClassByEl(tableWrapper, className);\n  };\n  const hasScrollClass = className => {\n    const {\n      tableWrapper\n    } = table.refs;\n    return !!(tableWrapper && tableWrapper.classList.contains(className));\n  };\n  const syncPostion = function () {\n    if (!table.refs.scrollBarRef) return;\n    if (!layout.scrollX.value) {\n      const scrollingNoneClass = \"is-scrolling-none\";\n      if (!hasScrollClass(scrollingNoneClass)) {\n        setScrollClass(scrollingNoneClass);\n      }\n      return;\n    }\n    const scrollContainer = table.refs.scrollBarRef.wrap$;\n    if (!scrollContainer) return;\n    const {\n      scrollLeft,\n      offsetWidth,\n      scrollWidth\n    } = scrollContainer;\n    const {\n      headerWrapper,\n      footerWrapper\n    } = table.refs;\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft;\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft;\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1;\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass(\"is-scrolling-right\");\n    } else if (scrollLeft === 0) {\n      setScrollClass(\"is-scrolling-left\");\n    } else {\n      setScrollClass(\"is-scrolling-middle\");\n    }\n  };\n  const bindEvents = () => {\n    var _a;\n    if (!table.refs.scrollBarRef) return;\n    (_a = table.refs.scrollBarRef.wrap$) == null ? void 0 : _a.addEventListener(\"scroll\", syncPostion, {\n      passive: true\n    });\n    if (props.fit) {\n      addResizeListener(table.vnode.el, resizeListener);\n    } else {\n      on(window, \"resize\", doLayout);\n    }\n  };\n  onBeforeUnmount(() => {\n    unbindEvents();\n  });\n  const unbindEvents = () => {\n    var _a;\n    (_a = table.refs.scrollBarRef.wrap$) == null ? void 0 : _a.removeEventListener(\"scroll\", syncPostion, true);\n    if (props.fit) {\n      removeResizeListener(table.vnode.el, resizeListener);\n    } else {\n      off(window, \"resize\", doLayout);\n    }\n  };\n  const resizeListener = () => {\n    if (!table.$ready) return;\n    let shouldUpdateLayout = false;\n    const el = table.vnode.el;\n    const {\n      width: oldWidth,\n      height: oldHeight\n    } = resizeState.value;\n    const width = tableWidth.value = el.offsetWidth;\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true;\n    }\n    const height2 = el.offsetHeight;\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height2) {\n      shouldUpdateLayout = true;\n    }\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height: height2\n      };\n      doLayout();\n    }\n  };\n  const tableSize = useSize();\n  const bodyWidth = computed(() => {\n    const {\n      bodyWidth: bodyWidth_,\n      scrollY,\n      gutterWidth\n    } = layout;\n    return bodyWidth_.value ? `${bodyWidth_.value - (scrollY.value ? gutterWidth : 0)}px` : \"\";\n  });\n  const tableLayout = computed(() => {\n    if (props.maxHeight) return \"fixed\";\n    return props.tableLayout;\n  });\n  function calcMaxHeight(maxHeight, footerHeight, headerHeight) {\n    const parsedMaxHeight = parseHeight(maxHeight);\n    const tableHeaderHeight = props.showHeader ? headerHeight : 0;\n    if (parsedMaxHeight === null) return;\n    if (isString(parsedMaxHeight)) {\n      return `calc(${parsedMaxHeight} - ${footerHeight}px - ${tableHeaderHeight}px)`;\n    }\n    return parsedMaxHeight - footerHeight - tableHeaderHeight;\n  }\n  const height = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0;\n    const bodyHeight2 = layout.bodyHeight.value;\n    const footerHeight = layout.footerHeight.value || 0;\n    if (props.height) {\n      return bodyHeight2 ? bodyHeight2 : void 0;\n    } else if (props.maxHeight) {\n      return calcMaxHeight(props.maxHeight, footerHeight, headerHeight);\n    }\n    return void 0;\n  });\n  const bodyHeight = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0;\n    const bodyHeight2 = layout.bodyHeight.value;\n    const footerHeight = layout.footerHeight.value || 0;\n    if (props.height) {\n      return {\n        height: bodyHeight2 ? `${bodyHeight2}px` : \"\"\n      };\n    } else if (props.maxHeight) {\n      const maxHeight = calcMaxHeight(props.maxHeight, footerHeight, headerHeight);\n      if (maxHeight !== null) {\n        return {\n          \"max-height\": `${maxHeight}${isNumber(maxHeight) ? \"px\" : \"\"}`\n        };\n      }\n    }\n    return {};\n  });\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length) return null;\n    let height2 = \"100%\";\n    if (layout.appendHeight.value) {\n      height2 = `calc(100% - ${layout.appendHeight.value}px)`;\n    }\n    return {\n      width: tableWidth.value ? `${tableWidth.value}px` : \"\",\n      height: height2\n    };\n  });\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper;\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop;\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault();\n      }\n      if (data.pixelY > 0 && bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop) {\n        event.preventDefault();\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5);\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5);\n    }\n  };\n  const fixedHeight = computed(() => {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0\n        };\n      }\n      return {\n        bottom: layout.scrollX.value && props.data.length ? `${layout.gutterWidth}px` : \"\"\n      };\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value ? `${layout.tableHeight.value}px` : \"\"\n        };\n      }\n      return {\n        height: layout.viewportHeight.value ? `${layout.viewportHeight.value}px` : \"\"\n      };\n    }\n  });\n  const fixedBodyHeight = computed(() => {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value ? `${layout.fixedBodyHeight.value}px` : \"\"\n      };\n    } else if (props.maxHeight) {\n      let maxHeight = parseHeight(props.maxHeight);\n      if (typeof maxHeight === \"number\") {\n        maxHeight = layout.scrollX.value ? maxHeight - layout.gutterWidth : maxHeight;\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value;\n        }\n        maxHeight -= layout.footerHeight.value;\n        return {\n          \"max-height\": `${maxHeight}px`\n        };\n      }\n    }\n    return {};\n  });\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    bodyHeight,\n    height,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    fixedHeight,\n    fixedBodyHeight,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout,\n    tableBodyStyles,\n    tableLayout,\n    scrollbarViewStyle\n  };\n}\nexport { useStyle as default };","map":{"version":3,"mappings":"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","names":["useStyle","props","layout","store","table","isHidden","ref","renderExpanded","resizeProxyVisible","setDragVisible","visible","value","resizeState","width","height","isGroup","scrollbarViewStyle","display","verticalAlign","tableWidth","watchEffect","setHeight","setMaxHeight","maxHeight","watch","currentRowKey","states","rowKey","unref","setCurrentRowKey","immediate","data","commit","deep","expandRowKeys","setExpandRowKeysAdapter","handleMouseLeave","hoverState","handleHeaderFooterMousewheel","event","pixelX","pixelY","Math","abs","refs","bodyWrapper","scrollLeft","shouldUpdateHeight","computed","fixedColumns","length","rightFixedColumns","tableBodyStyles","bodyWidth","doLayout","updateElsHeight","updateColumnsWidth","requestAnimationFrame","syncPostion","onMounted","nextTick","updateColumns","bindEvents","vnode","el","offsetWidth","offsetHeight","columns","forEach","column","filteredValue","values","silent","$ready","setScrollClassByEl","className","classList","Array","from","filter","item","startsWith","push","scrollX","join","setScrollClass","tableWrapper","hasScrollClass","contains","scrollBarRef","scrollingNoneClass","scrollContainer","wrap$","scrollWidth","headerWrapper","footerWrapper","maxScrollLeftPosition","_a","addEventListener","passive","fit","addResizeListener","resizeListener","on","window","onBeforeUnmount","unbindEvents","removeEventListener","removeResizeListener","off","shouldUpdateLayout","oldWidth","oldHeight","height2","tableSize","useSize","bodyWidth_","scrollY","gutterWidth","tableLayout","calcMaxHeight","footerHeight","headerHeight","parsedMaxHeight","parseHeight","tableHeaderHeight","showHeader","isString","bodyHeight2","bodyHeight","isNumber","emptyBlockStyle","appendHeight","handleFixedMousewheel","spinY","currentScrollTop","scrollTop","preventDefault","scrollHeight","clientHeight","ceil","fixedHeight","showSummary","bottom","tableHeight","viewportHeight","fixedBodyHeight"],"sources":["../../../../../../../packages/components/table/src/table/style-helper.ts"],"sourcesContent":["import {\n  computed,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n  unref,\n  watch,\n  watchEffect,\n} from 'vue'\nimport {\n  addResizeListener,\n  isNumber,\n  isString,\n  off,\n  on,\n  removeResizeListener,\n} from '@element-plus/utils'\nimport { useSize } from '@element-plus/hooks'\nimport { parseHeight } from '../util'\n\nimport type { ResizableElement } from '@element-plus/utils'\nimport type { Table, TableProps } from './defaults'\nimport type { Store } from '../store'\nimport type TableLayout from '../table-layout'\nimport type { TableColumnCtx } from '../table-column/defaults'\n\nfunction useStyle<T>(\n  props: TableProps<T>,\n  layout: TableLayout<T>,\n  store: Store<T>,\n  table: Table<T>\n) {\n  const isHidden = ref(false)\n  const renderExpanded = ref(null)\n  const resizeProxyVisible = ref(false)\n  const setDragVisible = (visible: boolean) => {\n    resizeProxyVisible.value = visible\n  }\n  const resizeState = ref({\n    width: null,\n    height: null,\n  })\n  const isGroup = ref(false)\n  const scrollbarViewStyle = {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n  }\n  const tableWidth = ref()\n\n  watchEffect(() => {\n    layout.setHeight(props.height)\n  })\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight)\n  })\n  watch(\n    () => [props.currentRowKey, store.states.rowKey],\n    ([currentRowKey, rowKey]) => {\n      if (!unref(rowKey)) return\n      store.setCurrentRowKey(`${currentRowKey}`)\n    },\n    {\n      immediate: true,\n    }\n  )\n  watch(\n    () => props.data,\n    (data) => {\n      table.store.commit('setData', data)\n    },\n    {\n      immediate: true,\n      deep: true,\n    }\n  )\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys)\n    }\n  })\n\n  const handleMouseLeave = () => {\n    table.store.commit('setHoverRow', null)\n    if (table.hoverState) table.hoverState = null\n  }\n\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const { pixelX, pixelY } = data\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5\n    }\n  }\n\n  const shouldUpdateHeight = computed(() => {\n    return (\n      props.height ||\n      props.maxHeight ||\n      store.states.fixedColumns.value.length > 0 ||\n      store.states.rightFixedColumns.value.length > 0\n    )\n  })\n\n  const tableBodyStyles = computed(() => {\n    return {\n      width: layout.bodyWidth.value ? `${layout.bodyWidth.value}px` : '',\n    }\n  })\n\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight()\n    }\n    layout.updateColumnsWidth()\n    requestAnimationFrame(syncPostion)\n  }\n  onMounted(async () => {\n    await nextTick()\n    store.updateColumns()\n    bindEvents()\n    requestAnimationFrame(doLayout)\n\n    resizeState.value = {\n      width: (tableWidth.value = table.vnode.el.offsetWidth),\n      height: table.vnode.el.offsetHeight,\n    }\n\n    // init filters\n    store.states.columns.value.forEach((column: TableColumnCtx<T>) => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit('filterChange', {\n          column,\n          values: column.filteredValue,\n          silent: true,\n        })\n      }\n    })\n    table.$ready = true\n  })\n  const setScrollClassByEl = (el: HTMLElement, className: string) => {\n    if (!el) return\n    const classList = Array.from(el.classList).filter(\n      (item) => !item.startsWith('is-scrolling-')\n    )\n    classList.push(layout.scrollX.value ? className : 'is-scrolling-none')\n    el.className = classList.join(' ')\n  }\n  const setScrollClass = (className: string) => {\n    const { tableWrapper } = table.refs\n    setScrollClassByEl(tableWrapper, className)\n  }\n  const hasScrollClass = (className: string) => {\n    const { tableWrapper } = table.refs\n    return !!(tableWrapper && tableWrapper.classList.contains(className))\n  }\n  const syncPostion = function () {\n    if (!table.refs.scrollBarRef) return\n    if (!layout.scrollX.value) {\n      const scrollingNoneClass = 'is-scrolling-none'\n      if (!hasScrollClass(scrollingNoneClass)) {\n        setScrollClass(scrollingNoneClass)\n      }\n      return\n    }\n    const scrollContainer = table.refs.scrollBarRef.wrap$\n    if (!scrollContainer) return\n    const { scrollLeft, offsetWidth, scrollWidth } = scrollContainer\n    const { headerWrapper, footerWrapper } = table.refs\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass('is-scrolling-right')\n    } else if (scrollLeft === 0) {\n      setScrollClass('is-scrolling-left')\n    } else {\n      setScrollClass('is-scrolling-middle')\n    }\n  }\n\n  const bindEvents = () => {\n    if (!table.refs.scrollBarRef) return\n    table.refs.scrollBarRef.wrap$?.addEventListener('scroll', syncPostion, {\n      passive: true,\n    })\n    if (props.fit) {\n      addResizeListener(table.vnode.el as ResizableElement, resizeListener)\n    } else {\n      on(window, 'resize', doLayout)\n    }\n  }\n  onBeforeUnmount(() => {\n    unbindEvents()\n  })\n  const unbindEvents = () => {\n    table.refs.scrollBarRef.wrap$?.removeEventListener(\n      'scroll',\n      syncPostion,\n      true\n    )\n    if (props.fit) {\n      removeResizeListener(table.vnode.el as ResizableElement, resizeListener)\n    } else {\n      off(window, 'resize', doLayout)\n    }\n  }\n  const resizeListener = () => {\n    if (!table.$ready) return\n    let shouldUpdateLayout = false\n    const el = table.vnode.el\n    const { width: oldWidth, height: oldHeight } = resizeState.value\n\n    const width = (tableWidth.value = el.offsetWidth)\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true\n    }\n\n    const height = el.offsetHeight\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true\n    }\n\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height,\n      }\n      doLayout()\n    }\n  }\n  const tableSize = useSize()\n  const bodyWidth = computed(() => {\n    const { bodyWidth: bodyWidth_, scrollY, gutterWidth } = layout\n    return bodyWidth_.value\n      ? `${(bodyWidth_.value as number) - (scrollY.value ? gutterWidth : 0)}px`\n      : ''\n  })\n\n  const tableLayout = computed(() => {\n    if (props.maxHeight) return 'fixed'\n    return props.tableLayout\n  })\n\n  function calcMaxHeight(\n    maxHeight: string | number,\n    footerHeight: number,\n    headerHeight: number\n  ) {\n    const parsedMaxHeight = parseHeight(maxHeight)\n    const tableHeaderHeight = props.showHeader ? headerHeight : 0\n    if (parsedMaxHeight === null) return\n    if (isString(parsedMaxHeight)) {\n      return `calc(${parsedMaxHeight} - ${footerHeight}px - ${tableHeaderHeight}px)`\n    }\n    return parsedMaxHeight - footerHeight - tableHeaderHeight\n  }\n\n  const height = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0\n    const bodyHeight = layout.bodyHeight.value\n    const footerHeight = layout.footerHeight.value || 0\n    if (props.height) {\n      return bodyHeight ? bodyHeight : undefined\n    } else if (props.maxHeight) {\n      return calcMaxHeight(props.maxHeight, footerHeight, headerHeight)\n    }\n    return undefined\n  })\n\n  const bodyHeight = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0\n    const bodyHeight = layout.bodyHeight.value\n    const footerHeight = layout.footerHeight.value || 0\n    if (props.height) {\n      return {\n        height: bodyHeight ? `${bodyHeight}px` : '',\n      }\n    } else if (props.maxHeight) {\n      const maxHeight = calcMaxHeight(\n        props.maxHeight,\n        footerHeight,\n        headerHeight\n      )\n      if (maxHeight !== null) {\n        return {\n          'max-height': `${maxHeight}${isNumber(maxHeight) ? 'px' : ''}`,\n        }\n      }\n    }\n    return {}\n  })\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length) return null\n    let height = '100%'\n    if (layout.appendHeight.value) {\n      height = `calc(100% - ${layout.appendHeight.value}px)`\n    }\n    return {\n      width: tableWidth.value ? `${tableWidth.value}px` : '',\n      height,\n    }\n  })\n  /**\n   * fix layout\n   */\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault()\n      }\n      if (\n        data.pixelY > 0 &&\n        bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop\n      ) {\n        event.preventDefault()\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5)\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5)\n    }\n  }\n  const fixedHeight = computed(() => {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0,\n        }\n      }\n      return {\n        bottom:\n          layout.scrollX.value && props.data.length\n            ? `${layout.gutterWidth}px`\n            : '',\n      }\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value\n            ? `${layout.tableHeight.value}px`\n            : '',\n        }\n      }\n      return {\n        height: layout.viewportHeight.value\n          ? `${layout.viewportHeight.value}px`\n          : '',\n      }\n    }\n  })\n  const fixedBodyHeight = computed(() => {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value\n          ? `${layout.fixedBodyHeight.value}px`\n          : '',\n      }\n    } else if (props.maxHeight) {\n      let maxHeight = parseHeight(props.maxHeight)\n      if (typeof maxHeight === 'number') {\n        maxHeight = layout.scrollX.value\n          ? maxHeight - layout.gutterWidth\n          : maxHeight\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value\n        }\n        maxHeight -= layout.footerHeight.value\n        return {\n          'max-height': `${maxHeight}px`,\n        }\n      }\n    }\n    return {}\n  })\n\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    bodyHeight,\n    height,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    fixedHeight,\n    fixedBodyHeight,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout,\n    tableBodyStyles,\n    tableLayout,\n    scrollbarViewStyle,\n  }\n}\n\nexport default useStyle\n"]},"metadata":{},"sourceType":"module"}