{"ast":null,"code":"import \"@/assets/styles/user.css\";\nimport { reactive, toRefs, onMounted, ref } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\nimport { submitFeedBack } from \"@/api/user\";\nimport { setToken, setNickName } from \"@/utils/auth\";\nimport Header from \"@/components/common/Header\";\nimport Footer from \"@/components/common/Footer\";\nexport default {\n  name: \"feadback\",\n  components: {\n    Header,\n    Footer\n  },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const state = reactive({\n      content: \"\"\n    });\n    const submit = async () => {\n      if (!state.content) {\n        ElMessage.error(\"反馈内容不能为空！\");\n        return;\n      }\n      if (state.content.length < 10) {\n        ElMessage.error(\"反馈内容不能少于 10 个字符！\");\n        return;\n      }\n      await submitFeedBack(state.content);\n      state.content = \"\";\n      ElMessage.success(\"提交成功！\");\n    };\n    return {\n      ...toRefs(state),\n      submit\n    };\n  }\n};","map":{"version":3,"mappings":"AAoDA,OAAO,0BAA0B;AACjC,SAASA,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,GAAE,QAAS,KAAK;AACtD,SAASC,SAAS,EAAEC,QAAO,QAAS,YAAY;AAChD,SAASC,SAAQ,QAAS,cAAc;AACxC,SAASC,cAAa,QAAS,YAAY;AAC3C,SAASC,QAAQ,EAAEC,WAAU,QAAS,cAAc;AACpD,OAAOC,MAAK,MAAO,4BAA4B;AAC/C,OAAOC,MAAK,MAAO,4BAA4B;AAC/C,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVH,MAAM;IACNC;EACF,CAAC;EACDG,KAAKA,GAAG;IACN,MAAMC,KAAI,GAAIV,QAAQ,CAAC,CAAC;IACxB,MAAMW,MAAK,GAAIZ,SAAS,CAAC,CAAC;IAE1B,MAAMa,KAAI,GAAIjB,QAAQ,CAAC;MACrBkB,OAAO,EAAE;IACX,CAAC,CAAC;IAEF,MAAMC,MAAK,GAAI,YAAY;MACzB,IAAI,CAACF,KAAK,CAACC,OAAO,EAAE;QAClBZ,SAAS,CAACc,KAAK,CAAC,WAAW,CAAC;QAC5B;MACF;MAEA,IAAIH,KAAK,CAACC,OAAO,CAACG,MAAK,GAAI,EAAE,EAAE;QAC7Bf,SAAS,CAACc,KAAK,CAAC,kBAAkB,CAAC;QACnC;MACF;MACA,MAAMb,cAAc,CAACU,KAAK,CAACC,OAAO,CAAC;MACnCD,KAAK,CAACC,OAAM,GAAI,EAAE;MAClBZ,SAAS,CAACgB,OAAO,CAAC,OAAO,CAAC;IAC5B,CAAC;IAED,OAAO;MACL,GAAGrB,MAAM,CAACgB,KAAK,CAAC;MAChBE;IACF,CAAC;EACH;AACF,CAAC","names":["reactive","toRefs","onMounted","ref","useRouter","useRoute","ElMessage","submitFeedBack","setToken","setNickName","Header","Footer","name","components","setup","route","router","state","content","submit","error","length","success"],"sourceRoot":"","sources":["D:\\desktop\\novel-front-web-master\\src\\views\\FeadBack.vue"],"sourcesContent":["<template>\n  <Header />\n\n  <div class=\"main box_center cf\">\n    <div class=\"channelWrap channelFeedback cf\">\n      <div class=\"userBox cf\">\n        <div class=\"viewhistoryBox\">\n          <div class=\"my_bookshelf\">\n            <div class=\"title cf\">\n              <h2 class=\"fl ml10\">\n                <a href=\"javascript:void(0);\">反馈留言</a>\n              </h2>\n            </div>\n            <div class=\"feedbackBox\">\n              \n                <ul class=\"reg_list\">\n                  <li>\n                    <textarea\n                      v-model=\"content\"\n                      name=\"txtDescription\"\n                      rows=\"2\"\n                      cols=\"20\"\n                      id=\"txtDescription\"\n                      class=\"textarea\"\n                      placeholder=\"请说明情况，并留下联系方式，你可以在个人中心【我的反馈】里查看回复~\"\n                    ></textarea>\n                  </li>\n                  <li class=\"mb20\">\n                    <input\n                      @click=\"submit\"\n                      type=\"submit\"\n                      name=\"btnSave\"\n                      value=\"提交\"\n                      id=\"btnSave\"\n                      class=\"btn_red btn_big\"\n                    />\n                  </li>\n                  <li>\n                    <span id=\"LabErr\"></span>\n                  </li>\n                </ul>\n              \n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport \"@/assets/styles/user.css\";\nimport { reactive, toRefs, onMounted, ref } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\nimport { submitFeedBack } from \"@/api/user\";\nimport { setToken, setNickName } from \"@/utils/auth\";\nimport Header from \"@/components/common/Header\";\nimport Footer from \"@/components/common/Footer\";\nexport default {\n  name: \"feadback\",\n  components: {\n    Header,\n    Footer,\n  },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    const state = reactive({\n      content: \"\",\n    });\n\n    const submit = async () => {\n      if (!state.content) {\n        ElMessage.error(\"反馈内容不能为空！\");\n        return;\n      }\n\n      if (state.content.length < 10) {\n        ElMessage.error(\"反馈内容不能少于 10 个字符！\");\n        return;\n      }\n      await submitFeedBack(state.content);\n      state.content = \"\";\n      ElMessage.success(\"提交成功！\");\n    };\n\n    return {\n      ...toRefs(state),\n      submit,\n    };\n  },\n};\n</script>\n\n"]},"metadata":{},"sourceType":"module"}