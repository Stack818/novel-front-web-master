{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"topMain\"\n};\nconst _hoisted_2 = {\n  class: \"box_center cf\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"searchBar fl\"\n};\nconst _hoisted_5 = {\n  class: \"search cf\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"icon\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_7 = [_hoisted_6];\nconst _hoisted_8 = {\n  class: \"bookShelf fr\",\n  id: \"headerUserInfo\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"user_link\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"登录\");\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\"注册\");\nconst _hoisted_12 = {\n  key: 1,\n  class: \"user_link\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: {\n      name: 'home'\n    },\n    class: \"logo fl\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"img\", {\n      src: $setup.logo,\n      alt: \"小说精品屋\"\n    }, null, 8 /* PROPS */, _hoisted_3)]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.keyword = $event),\n    type: \"text\",\n    placeholder: \"书名、作者、关键字\",\n    class: \"s_int\",\n    onKeyup: _cache[1] || (_cache[1] = _withKeys((...args) => $setup.searchByK && $setup.searchByK(...args), [\"enter\"]))\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, _ctx.keyword]]), _createElementVNode(\"label\", {\n    class: \"search_btn\",\n    id: \"btnSearch\",\n    onClick: _cache[2] || (_cache[2] = $event => $setup.searchByK())\n  }, _hoisted_7)])]), _createElementVNode(\"div\", _hoisted_8, [_createCommentVNode(\"\\n        <a class=\\\"sj_link\\\" href=\\\"/user/favorites.html\\\">我的书架</a>\"), !_ctx.token ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, [_createCommentVNode(\"<i class=\\\"line mr20\\\">|</i\\n          >\"), _createVNode(_component_router_link, {\n    to: {\n      name: 'login'\n    },\n    class: \"mr15\"\n  }, {\n    default: _withCtx(() => [_hoisted_10]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_router_link, {\n    to: {\n      name: 'register'\n    },\n    class: \"mr15\"\n  }, {\n    default: _withCtx(() => [_hoisted_11]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _ctx.token ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12, [_createCommentVNode(\"<i class=\\\"line mr20\\\">|</i\\n          >\"), _createVNode(_component_router_link, {\n    to: {\n      name: 'userSetup'\n    },\n    class: \"mr15\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.nickName), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"a\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.logout && $setup.logout(...args)),\n    href: \"javascript:void(0)\"\n  }, \"退出\")])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;AAAS;;EACbA,KAAK,EAAC;AAAe;;;EAEnBA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAW;gCAE0CC,oBAAoB;EAAjBD,KAAK,EAAC;AAAM;oBAAfE,UAAoB;;EAIjFF,KAAK,EAAC,cAAc;EAACG,EAAE,EAAC;;;;EAGPH,KAAK,EAAC;;kDAE0B,IAAE;kDACC,IAAE;;;EAEtCA,KAAK,EAAC;;;;uBAlB/BI,oBAuBM,OAvBNC,UAuBM,GAtBJJ,oBAqBM,OArBNK,UAqBM,GApBJC,aAAiGC;IAAnFC,EAAE,EAAE;MAAAC;IAAA,CAAgB;IAAEV,KAAK,EAAC;;sBAAU,MAA+B,CAA/BC,oBAA+B;MAAzBU,GAAG,EAAEC,WAAI;MAAEC,GAAG,EAAC;;;MACzEZ,oBAKM,OALNa,UAKM,GAJJb,oBAGM,OAHNc,UAGM,mBAFJd,oBAA0G;+DAA1Fe,YAAO;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,WAAW;IAAClB,KAAK,EAAC,OAAO;IAAMmB,OAAK,mDAAQP,6CAAS;iEAAtFI,YAAO,KACvBf,oBAA0F;IAAnFD,KAAK,EAAC,YAAY;IAACG,EAAE,EAAC,WAAW;IAAEiB,OAAK,sCAAER,gBAAS;sBAI9DX,oBAWM,OAXNoB,UAWM,GAVJC,4FAC0D,GAC7CN,UAAK,kBAAlBZ,oBAIO,QAJPmB,UAIO,GAJ+BD,+DAChC,EACJf,aAAkEC;IAApDC,EAAE,EAAE;MAAAC;IAAA,CAAiB;IAAEV,KAAK,EAAC;;sBAAO,MAAE;;MACpDO,aAAqEC;IAAvDC,EAAE,EAAE;MAAAC;IAAA,CAAoB;IAAEV,KAAK,EAAC;;sBAAO,MAAE;;6CAE7CgB,UAAK,kBAAjBZ,oBAE4D,QAF5DoB,WAE4D,GAFvBF,+DAC/B,eAAkFd;IAApEC,EAAE,EAAE;MAAAC;IAAA,CAAqB;IAAEV,KAAK,EAAC;;sBAAO,MAAc,mCAAXgB,aAAQ;;MACrEf,oBAAmD;IAA/CmB,OAAK,yCAAER,uCAAM;IAAEa,IAAI,EAAC;KAAqB,IAAE","names":["class","_createElementVNode","_hoisted_6","id","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","name","src","$setup","alt","_hoisted_4","_hoisted_5","_ctx","type","placeholder","onKeyup","onClick","_hoisted_8","_createCommentVNode","_hoisted_9","_hoisted_12","href"],"sourceRoot":"","sources":["D:\\desktop\\小说精品屋\\novel-front-web-master\\novel-front-web-master\\src\\components\\common\\Top.vue"],"sourcesContent":["<template>\n  <div class=\"topMain\">\n    <div class=\"box_center cf\">\n      <router-link :to=\"{ name: 'home' }\" class=\"logo fl\"><img :src=\"logo\" alt=\"小说精品屋\" /></router-link>\n      <div class=\"searchBar fl\">\n        <div class=\"search cf\">\n          <input v-model=\"keyword\" type=\"text\" placeholder=\"书名、作者、关键字\" class=\"s_int\" v-on:keyup.enter=\"searchByK\" />\n          <label class=\"search_btn\" id=\"btnSearch\" @click=\"searchByK()\"><i class=\"icon\"></i></label>\n        </div>\n      </div>\n\n      <div class=\"bookShelf fr\" id=\"headerUserInfo\">\n        <!--\n        <a class=\"sj_link\" href=\"/user/favorites.html\">我的书架</a>-->\n        <span v-if=\"!token\" class=\"user_link\"><!--<i class=\"line mr20\">|</i\n          >-->\n          <router-link :to=\"{ name: 'login' }\" class=\"mr15\">登录</router-link>\n          <router-link :to=\"{ name: 'register' }\" class=\"mr15\">注册</router-link>\n        </span>\n        <span v-if=\"token\" class=\"user_link\"><!--<i class=\"line mr20\">|</i\n          >--><router-link :to=\"{ name: 'userSetup' }\" class=\"mr15\">{{ nickName }}</router-link>\n          <a @click=\"logout\" href=\"javascript:void(0)\">退出</a></span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport logo from \"@/assets/images/logo.png\";\nimport { reactive, toRefs, onMounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { getToken, getNickName, removeToken, removeNickName, removeUid } from \"@/utils/auth\";\nexport default {\n  name: \"Top\",\n  setup(props, context) {\n    const state = reactive({\n      keyword: \"\",\n      nickName: getNickName(),\n      token: getToken(),\n    });\n    state.nickName = getNickName();\n    state.token = getToken();\n    const route = useRoute();\n    const router = useRouter();\n    state.keyword = route.query.key;\n    const searchByK = () => {\n      router.push({ path: \"/bookclass\", query: { key: state.keyword } });\n      context.emit(\"eventSerch\", state.keyword);\n    };\n    const logout = () => {\n      removeToken();\n      removeNickName();\n      removeUid()\n      state.nickName = \"\";\n      state.token = \"\";\n    };\n    return {\n      ...toRefs(state),\n      logo,\n      searchByK,\n      logout,\n    };\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}