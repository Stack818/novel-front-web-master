{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, withCtx as _withCtx, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"main box_center cf mb50\"\n};\nconst _hoisted_2 = {\n  class: \"channelWrap channelBookInfo cf\"\n};\nconst _hoisted_3 = {\n  class: \"bookCover cf\"\n};\nconst _hoisted_4 = {\n  class: \"book_cover\"\n};\nconst _hoisted_5 = [\"src\", \"alt\"];\nconst _hoisted_6 = {\n  class: \"book_info\"\n};\nconst _hoisted_7 = {\n  class: \"tit\"\n};\nconst _hoisted_8 = {\n  class: \"author\"\n};\nconst _hoisted_9 = {\n  class: \"list\"\n};\nconst _hoisted_10 = {\n  class: \"item\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\"类别：\");\nconst _hoisted_12 = {\n  class: \"item\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"状态：\");\nconst _hoisted_14 = {\n  class: \"item\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\"总点击：\");\nconst _hoisted_16 = {\n  id: \"cTotal\"\n};\nconst _hoisted_17 = {\n  class: \"item\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createTextVNode(\"总字数：\");\nconst _hoisted_19 = {\n  class: \"intro_txt\"\n};\nconst _hoisted_20 = [\"innerHTML\"];\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"icon_hide\",\n  href: \"javascript:void(0)\",\n  onclick: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"i\"), /*#__PURE__*/_createTextVNode(\"收起\")], -1 /* HOISTED */);\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"icon_show\",\n  href: \"javascript:void(0)\",\n  onclick: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"i\"), /*#__PURE__*/_createTextVNode(\"展开\")], -1 /* HOISTED */);\nconst _hoisted_23 = {\n  class: \"btns\",\n  id: \"optBtn\"\n};\nconst _hoisted_24 = {\n  class: \"channelBookContent cf\"\n};\nconst _hoisted_25 = {\n  class: \"wrap_left fl\"\n};\nconst _hoisted_26 = {\n  class: \"wrap_bg\"\n};\nconst _hoisted_27 = {\n  class: \"pad20_nobt\"\n};\nconst _hoisted_28 = {\n  class: \"bookChapter\"\n};\nconst _hoisted_29 = {\n  class: \"book_tit\"\n};\nconst _hoisted_30 = {\n  class: \"fl\"\n};\nconst _hoisted_31 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"最新章节\", -1 /* HOISTED */);\nconst _hoisted_32 = {\n  id: \"bookIndexCount\"\n};\nconst _hoisted_33 = {\n  class: \"list cf\"\n};\nconst _hoisted_34 = {\n  class: \"fl font16\"\n};\nconst _hoisted_35 = {\n  key: 0,\n  class: \"black9 fr\"\n};\nconst _hoisted_36 = {\n  class: \"zj_yl\",\n  id: \"lastBookContent\"\n};\nconst _hoisted_37 = /*#__PURE__*/_createTextVNode(\" 　　\");\nconst _hoisted_38 = [\"innerHTML\"];\nconst _hoisted_39 = {\n  class: \"pad20\"\n};\nconst _hoisted_40 = {\n  class: \"bookComment\"\n};\nconst _hoisted_41 = {\n  class: \"book_tit\"\n};\nconst _hoisted_42 = {\n  class: \"fl\"\n};\nconst _hoisted_43 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"作品评论区\", -1 /* HOISTED */);\nconst _hoisted_44 = {\n  id: \"bookCommentTotal\"\n};\nconst _hoisted_45 = {\n  key: 0,\n  class: \"no_comment\",\n  id: \"noCommentPanel\"\n};\nconst _hoisted_46 = [\"src\"];\nconst _hoisted_47 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"block\"\n}, \"暂无评论\", -1 /* HOISTED */);\nconst _hoisted_48 = {\n  key: 1,\n  class: \"commentBar\",\n  id: \"commentPanel\"\n};\nconst _hoisted_49 = {\n  class: \"user_heads fl\",\n  vals: \"389\"\n};\nconst _hoisted_50 = [\"src\"];\nconst _hoisted_51 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"user_level1\",\n  style: {\n    \"display\": \"none\"\n  }\n}, \"见习\", -1 /* HOISTED */);\nconst _hoisted_52 = {\n  class: \"pl_bar fr\"\n};\nconst _hoisted_53 = {\n  class: \"name\"\n};\nconst _hoisted_54 = [\"innerHTML\"];\nconst _hoisted_55 = {\n  class: \"other cf\"\n};\nconst _hoisted_56 = {\n  class: \"time fl\"\n};\nconst _hoisted_57 = {\n  key: 0,\n  class: \"fr\"\n};\nconst _hoisted_58 = [\"onClick\"];\nconst _hoisted_59 = /*#__PURE__*/_createTextVNode(\" | \");\nconst _hoisted_60 = [\"onClick\"];\nconst _hoisted_61 = {\n  class: \"dialog-footer\"\n};\nconst _hoisted_62 = /*#__PURE__*/_createTextVNode(\"取消\");\nconst _hoisted_63 = /*#__PURE__*/_createTextVNode(\"确定\");\nconst _hoisted_64 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"more_bar\",\n  id: \"moreCommentPanel\",\n  style: {\n    \"display\": \"none\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/book/comment-1431636283466297344.html\"\n}, \"查看全部评论>\")], -1 /* HOISTED */);\nconst _hoisted_65 = {\n  class: \"reply_bar\",\n  id: \"reply_bar\"\n};\nconst _hoisted_66 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"tit\\\"><span class=\\\"fl font16\\\">发表评论</span><span class=\\\"fr black9\\\" style=\\\"display:none;\\\">请先 <a class=\\\"orange\\\" href=\\\"/user/login.html\\\">登录</a><em class=\\\"ml10 mr10\\\">|</em><a class=\\\"orange\\\" href=\\\"/user/register.html\\\">注册</a></span></div>\", 1);\nconst _hoisted_67 = {\n  class: \"reply_btn\"\n};\nconst _hoisted_68 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"fl black9\"\n}, [/*#__PURE__*/_createElementVNode(\"em\", {\n  class: \"ml5\",\n  id: \"emCommentNum\"\n}, \"0/1000\"), /*#__PURE__*/_createTextVNode(\" 字\")], -1 /* HOISTED */);\nconst _hoisted_69 = {\n  class: \"fr\"\n};\nconst _hoisted_70 = {\n  class: \"wrap_right fr\"\n};\nconst _hoisted_71 = {\n  class: \"wrap_inner author_info mb20\"\n};\nconst _hoisted_72 = {\n  class: \"author_head cf\"\n};\nconst _hoisted_73 = {\n  href: \"javascript:void(0);\",\n  class: \"head\"\n};\nconst _hoisted_74 = [\"src\"];\nconst _hoisted_75 = {\n  class: \"msg\"\n};\nconst _hoisted_76 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"icon_qyzz\"\n}, \"签约作家\", -1 /* HOISTED */);\nconst _hoisted_77 = {\n  href: \"javascript:searchByK('冷漠的天蝎')\"\n};\nconst _hoisted_78 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"author_intro cf\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", null, \"作者有话说\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"intro_txt\",\n  id: \"authorNote\"\n}, \" 亲亲们，你们的支持是我最大的动力！求点击、求推荐、求书评哦！ \")], -1 /* HOISTED */);\nconst _hoisted_79 = {\n  id: \"RelateBookOther\",\n  class: \"wrap_inner wrap_right_cont mb20\"\n};\nconst _hoisted_80 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title cf\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"on\"\n}, \"同类推荐\")], -1 /* HOISTED */);\nconst _hoisted_81 = {\n  class: \"tj_bar\"\n};\nconst _hoisted_82 = {\n  id: \"recBookList\"\n};\nconst _hoisted_83 = {\n  class: \"book_intro\"\n};\nconst _hoisted_84 = {\n  class: \"cover\"\n};\nconst _hoisted_85 = [\"onClick\"];\nconst _hoisted_86 = [\"id\", \"src\", \"alt\"];\nconst _hoisted_87 = {\n  class: \"dec\"\n};\nconst _hoisted_88 = [\"onClick\"];\nconst _hoisted_89 = [\"onClick\", \"innerHTML\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Header), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"a\", _hoisted_4, [_createElementVNode(\"img\", {\n    id: \"bookCover\",\n    class: \"cover\",\n    src: `${_ctx.imgBaseUrl}` + `${_ctx.book.picUrl}`,\n    alt: _ctx.book.bookName\n  }, null, 8 /* PROPS */, _hoisted_5)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h1\", null, _toDisplayString(_ctx.book.bookName), 1 /* TEXT */), _createCommentVNode(\"<i class=\\\"vip_b\\\">VIP</i>\"), _createElementVNode(\"a\", _hoisted_8, _toDisplayString(_ctx.book.authorName), 1 /* TEXT */)]), _createElementVNode(\"ul\", _hoisted_9, [_createElementVNode(\"li\", null, [_createElementVNode(\"span\", _hoisted_10, [_hoisted_11, _createElementVNode(\"em\", null, _toDisplayString(_ctx.book.categoryName), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_12, [_hoisted_13, _createElementVNode(\"em\", null, _toDisplayString(_ctx.book.bookStatus == 0 ? \"连载中\" : \"已完结\"), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_14, [_hoisted_15, _createElementVNode(\"em\", _hoisted_16, _toDisplayString(_ctx.book.visitCount), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_17, [_hoisted_18, _createElementVNode(\"em\", null, _toDisplayString(_ctx.book.wordCount), 1 /* TEXT */)])])]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"p\", {\n    style: {\n      \"white-space\": \"break-spaces\"\n    },\n    innerHTML: _ctx.book.bookDesc\n  }, null, 8 /* PROPS */, _hoisted_20), _hoisted_21, _hoisted_22]), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"a\", {\n    href: \"javascript:void(0)\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.bookContent(_ctx.book.id, _ctx.book.firstChapterId)),\n    class: \"btn_ora\"\n  }, \"点击阅读\"), _createCommentVNode(\"\\n            <span id=\\\"cFavs\\\"\\n              ><a\\n                href=\\\"javascript:void(0);\\\"\\n                class=\\\"btn_ora_white btn_addsj\\\"\\n                onclick=\\\"javascript:BookDetail.AddFavorites(37,0,0);\\\"\\n                >加入书架</a\\n              >\\n            </span>\")])])])]), _createElementVNode(\"div\", _hoisted_24, [_createCommentVNode(\"left start\"), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createCommentVNode(\"章节目录 start\"), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_hoisted_31, _createElementVNode(\"span\", _hoisted_32, \"(\" + _toDisplayString(_ctx.chapterAbout.chapterTotal) + \"章)\", 1 /* TEXT */)]), _createElementVNode(\"a\", {\n    class: \"fr\",\n    onClick: _cache[1] || (_cache[1] = $event => $setup.chapterList(_ctx.book.id)),\n    href: \"javascript:void(0)\"\n  }, \"全部目录\")]), _createElementVNode(\"ul\", _hoisted_33, [_createElementVNode(\"li\", null, [_createElementVNode(\"span\", _hoisted_34, [_ctx.chapterAbout.chapterInfo ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    onClick: _cache[2] || (_cache[2] = $event => $setup.bookContent(_ctx.chapterAbout.chapterInfo.bookId, _ctx.chapterAbout.chapterInfo.id)),\n    href: \"javascript:void(0)\"\n  }, _toDisplayString(_ctx.chapterAbout.chapterInfo.chapterName) + \"】\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _ctx.chapterAbout.chapterInfo ? (_openBlock(), _createElementBlock(\"span\", _hoisted_35, \"更新时间：\" + _toDisplayString(_ctx.chapterAbout.chapterInfo.chapterUpdateTime), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_36, [_createCommentVNode(\"go\"), _hoisted_37, _createElementVNode(\"span\", {\n    innerHTML: `${_ctx.chapterAbout.contentSummary}` + '...'\n  }, null, 8 /* PROPS */, _hoisted_38)]), _createCommentVNode(\"此处是该章节预览，截取最前面的42个字\")])])]), _createCommentVNode(\"章节目录 end\"), _createCommentVNode(\"作品评论区 start\"), _createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"div\", _hoisted_42, [_hoisted_43, _createElementVNode(\"span\", _hoisted_44, \"(\" + _toDisplayString(_ctx.newestComments.commentTotal) + \"条)\", 1 /* TEXT */)]), _createElementVNode(\"a\", {\n    class: \"fr\",\n    onClick: _cache[3] || (_cache[3] = $event => $setup.goToAnchor('txtComment')),\n    href: \"javascript:void(0)\"\n  }, \"发表评论\")]), _ctx.newestComments.commentTotal == 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_45, [_createElementVNode(\"img\", {\n    src: $setup.no_comment,\n    alt: \"\"\n  }, null, 8 /* PROPS */, _hoisted_46), _hoisted_47])) : _createCommentVNode(\"v-if\", true), _ctx.newestComments.commentTotal > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_48, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.newestComments.comments, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"comment_list cf\",\n      key: index\n    }, [_createElementVNode(\"div\", _hoisted_49, [_createElementVNode(\"img\", {\n      src: item.commentUserPhoto ? _ctx.imgBaseUrl + item.commentUserPhoto : $setup.man,\n      class: \"user_head\",\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_50), _hoisted_51]), _createElementVNode(\"ul\", _hoisted_52, [_createElementVNode(\"li\", _hoisted_53, _toDisplayString(item.commentUser), 1 /* TEXT */), _createElementVNode(\"li\", {\n      class: \"dec\",\n      innerHTML: item.commentContent\n    }, null, 8 /* PROPS */, _hoisted_54), _createElementVNode(\"li\", _hoisted_55, [_createElementVNode(\"span\", _hoisted_56, _toDisplayString(item.commentTime), 1 /* TEXT */), item.commentUserId == _ctx.uid ? (_openBlock(), _createElementBlock(\"span\", _hoisted_57, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0);\",\n      onClick: $event => $setup.updateUserComment(item.id, item.commentContent),\n      class: \"zan\"\n    }, \"修改\", 8 /* PROPS */, _hoisted_58), _hoisted_59, _createElementVNode(\"a\", {\n      href: \"javascript:void(0);\",\n      onClick: $event => $setup.deleteUserComment(item.id),\n      class: \"zan\"\n    }, \"删除\", 8 /* PROPS */, _hoisted_60)])) : _createCommentVNode(\"v-if\", true)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_dialog, {\n    modelValue: _ctx.dialogUpdateCommentFormVisible,\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => _ctx.dialogUpdateCommentFormVisible = $event),\n    title: \"评论修改\"\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_61, [_createVNode(_component_el_button, {\n      onClick: _cache[5] || (_cache[5] = $event => _ctx.dialogUpdateCommentFormVisible = false)\n    }, {\n      default: _withCtx(() => [_hoisted_62]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[6] || (_cache[6] = $event => $setup.goUpdateComment())\n    }, {\n      default: _withCtx(() => [_hoisted_63]),\n      _: 1 /* STABLE */\n    })])]),\n    default: _withCtx(() => [_createVNode(_component_el_form, null, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"评论内容\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          type: \"textarea\",\n          modelValue: _ctx.updateComment,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.updateComment = $event)\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createCommentVNode(\"无评论时此处隐藏\"), _hoisted_64, _createElementVNode(\"div\", _hoisted_65, [_hoisted_66, _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => _ctx.commentContent = $event),\n    name: \"txtComment\",\n    rows: \"2\",\n    cols: \"20\",\n    id: \"txtComment\",\n    class: \"replay_text\",\n    placeholder: \"我来说两句...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.commentContent]]), _createElementVNode(\"div\", _hoisted_67, [_hoisted_68, _createElementVNode(\"span\", _hoisted_69, [_createElementVNode(\"a\", {\n    class: \"btn_ora\",\n    href: \"javascript:void(0);\",\n    onClick: _cache[9] || (_cache[9] = (...args) => $setup.userComment && $setup.userComment(...args))\n  }, \"发表\")])])])])]), _createCommentVNode(\"作品评论区 end\")])]), _createCommentVNode(\"left end\"), _createCommentVNode(\"right start\"), _createElementVNode(\"div\", _hoisted_70, [_createCommentVNode(\"作者专栏s\"), _createElementVNode(\"div\", _hoisted_71, [_createElementVNode(\"div\", _hoisted_72, [_createElementVNode(\"a\", _hoisted_73, [_createElementVNode(\"img\", {\n    src: $setup.author_head,\n    alt: \"作者头像\",\n    id: \"authorLogoImg\"\n  }, null, 8 /* PROPS */, _hoisted_74)]), _createElementVNode(\"div\", _hoisted_75, [_hoisted_76, _createElementVNode(\"h4\", null, [_createElementVNode(\"a\", _hoisted_77, _toDisplayString(_ctx.book.authorName), 1 /* TEXT */)])])]), _hoisted_78]), _createElementVNode(\"div\", _hoisted_79, [_hoisted_80, _createElementVNode(\"div\", _hoisted_81, [_createElementVNode(\"ul\", _hoisted_82, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.books, (item, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index\n    }, [_createElementVNode(\"div\", _hoisted_83, [_createElementVNode(\"div\", _hoisted_84, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0)\",\n      onClick: $event => $setup.bookDetail(item.id)\n    }, [_createElementVNode(\"img\", {\n      id: 'bookCover' + `${index}`,\n      src: `${_ctx.imgBaseUrl}` + `${item.picUrl}`,\n      alt: item.bookName\n    }, null, 8 /* PROPS */, _hoisted_86)], 8 /* PROPS */, _hoisted_85)]), _createElementVNode(\"div\", _hoisted_87, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0)\",\n      onClick: $event => $setup.bookDetail(item.id)\n    }, _toDisplayString(item.bookName), 9 /* TEXT, PROPS */, _hoisted_88), _createElementVNode(\"a\", {\n      class: \"txt\",\n      href: \"javascript:void(0)\",\n      onClick: $event => $setup.bookDetail(item.id),\n      innerHTML: item.bookDesc\n    }, null, 8 /* PROPS */, _hoisted_89)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]), _createCommentVNode(\"right end\")])]), _createVNode(_component_Footer)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","id","_createElementVNode","href","onclick","vals","style","_createVNode","_component_Header","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","src","_ctx","picUrl","alt","bookName","_hoisted_6","_hoisted_7","_createCommentVNode","_hoisted_8","authorName","_hoisted_9","_hoisted_10","categoryName","_hoisted_12","bookStatus","_hoisted_14","_hoisted_16","visitCount","_hoisted_17","wordCount","_hoisted_19","innerHTML","bookDesc","_hoisted_21","_hoisted_22","_hoisted_23","onClick","$setup","firstChapterId","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","chapterTotal","_hoisted_33","_hoisted_34","chapterInfo","_createElementBlock","bookId","chapterName","_hoisted_35","chapterUpdateTime","_hoisted_36","contentSummary","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","commentTotal","_hoisted_45","_hoisted_47","_hoisted_48","_Fragment","comments","item","index","key","_hoisted_49","commentUserPhoto","_hoisted_51","_hoisted_52","_hoisted_53","commentUser","commentContent","_hoisted_55","_hoisted_56","commentTime","commentUserId","_hoisted_57","_component_el_dialog","title","footer","_hoisted_61","_component_el_button","type","_component_el_form","_component_el_form_item","label","_component_el_input","_hoisted_64","_hoisted_65","_hoisted_66","name","rows","cols","placeholder","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_87","_component_Footer"],"sourceRoot":"","sources":["D:\\desktop\\小说精品屋\\novel-front-web-master\\novel-front-web-master\\src\\views\\Book.vue"],"sourcesContent":["<template>\n  <Header />\n  <div class=\"main box_center cf mb50\">\n    <div class=\"channelWrap channelBookInfo cf\">\n      <div class=\"bookCover cf\">\n        <a class=\"book_cover\">\n          <img id=\"bookCover\" class=\"cover\" :src=\"`${imgBaseUrl}` + `${book.picUrl}`\" :alt=\"book.bookName\" /></a>\n        <div class=\"book_info\">\n          <div class=\"tit\">\n            <h1>{{ book.bookName }}</h1>\n            <!--<i class=\"vip_b\">VIP</i>--><a class=\"author\">{{\n              book.authorName\n            }}</a>\n          </div>\n          <ul class=\"list\">\n            <li>\n              <span class=\"item\">类别：<em>{{ book.categoryName }}</em></span>\n              <span class=\"item\">状态：<em>{{\n                book.bookStatus == 0 ? \"连载中\" : \"已完结\"\n              }}</em></span>\n              <span class=\"item\">总点击：<em id=\"cTotal\">{{ book.visitCount }}</em></span>\n              <span class=\"item\">总字数：<em>{{ book.wordCount }}</em></span>\n            </li>\n          </ul>\n          <div class=\"intro_txt\">\n            <p style=\"white-space:break-spaces\" v-html=\"book.bookDesc\"></p>\n            <a class=\"icon_hide\" href=\"javascript:void(0)\" onclick=\"\"><i></i>收起</a>\n            <a class=\"icon_show\" href=\"javascript:void(0)\" onclick=\"\"><i></i>展开</a>\n          </div>\n          <div class=\"btns\" id=\"optBtn\">\n            <a href=\"javascript:void(0)\" @click=\"bookContent(book.id, book.firstChapterId)\" class=\"btn_ora\">点击阅读</a>\n            <!--\n            <span id=\"cFavs\"\n              ><a\n                href=\"javascript:void(0);\"\n                class=\"btn_ora_white btn_addsj\"\n                onclick=\"javascript:BookDetail.AddFavorites(37,0,0);\"\n                >加入书架</a\n              >\n            </span>-->\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"channelBookContent cf\">\n      <!--left start-->\n      <div class=\"wrap_left fl\">\n        <div class=\"wrap_bg\">\n          <!--章节目录 start-->\n          <div class=\"pad20_nobt\">\n            <div class=\"bookChapter\">\n              <div class=\"book_tit\">\n                <div class=\"fl\">\n                  <h3>最新章节</h3>\n                  <span id=\"bookIndexCount\">({{ chapterAbout.chapterTotal }}章)</span>\n                </div>\n                <a class=\"fr\" @click=\"chapterList(book.id)\" href=\"javascript:void(0)\">全部目录</a>\n              </div>\n              <ul class=\"list cf\">\n                <li>\n                  <span class=\"fl font16\">\n                    <a @click=\"\n                      bookContent(\n                        chapterAbout.chapterInfo.bookId,\n                        chapterAbout.chapterInfo.id\n                      )\n                      \" href=\"javascript:void(0)\" v-if=\"chapterAbout.chapterInfo\">{{\n    chapterAbout.chapterInfo.chapterName }}】</a></span>\n                  <span class=\"black9 fr\" v-if=\"chapterAbout.chapterInfo\">更新时间：{{\n                    chapterAbout.chapterInfo.chapterUpdateTime\n                  }}</span>\n                </li>\n                <li class=\"zj_yl\" id=\"lastBookContent\">\n                  <!--go-->\n                  　　<span v-html=\"`${chapterAbout.contentSummary}` + '...'\"></span>\n                </li>\n                <!--此处是该章节预览，截取最前面的42个字-->\n              </ul>\n            </div>\n          </div>\n          <!--章节目录 end-->\n\n          <!--作品评论区 start-->\n          <div class=\"pad20\">\n            <div class=\"bookComment\">\n              <div class=\"book_tit\">\n                <div class=\"fl\">\n                  <h3>作品评论区</h3>\n                  <span id=\"bookCommentTotal\">({{ newestComments.commentTotal }}条)</span>\n                </div>\n                <a class=\"fr\" @click=\"goToAnchor('txtComment')\" href=\"javascript:void(0)\">发表评论</a>\n              </div>\n              <div v-if=\"newestComments.commentTotal == 0\" class=\"no_comment\" id=\"noCommentPanel\">\n                <img :src=\"no_comment\" alt=\"\" />\n                <span class=\"block\">暂无评论</span>\n              </div>\n              <div v-if=\"newestComments.commentTotal > 0\" class=\"commentBar\" id=\"commentPanel\">\n                <div class=\"comment_list cf\" v-for=\"(item, index) in newestComments.comments\" :key=\"index\">\n                  <div class=\"user_heads fl\" vals=\"389\">\n                    <img :src=\"item.commentUserPhoto\n                        ? imgBaseUrl + item.commentUserPhoto\n                        : man\n                      \" class=\"user_head\" alt=\"\" /><span class=\"user_level1\" style=\"display: none\">见习</span>\n                  </div>\n                  <ul class=\"pl_bar fr\">\n                    <li class=\"name\">{{ item.commentUser }}</li>\n                    <li class=\"dec\" v-html=\"item.commentContent\"></li>\n                    <li class=\"other cf\">\n                      <span class=\"time fl\">{{ item.commentTime }}</span><span class=\"fr\"\n                        v-if=\"item.commentUserId == uid\"><a href=\"javascript:void(0);\" @click=\"\n                          updateUserComment(item.id, item.commentContent)\n                          \" class=\"zan\">修改</a>\n                        |\n                        <a href=\"javascript:void(0);\" @click=\"deleteUserComment(item.id)\" class=\"zan\">删除</a></span>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <el-dialog v-model=\"dialogUpdateCommentFormVisible\" title=\"评论修改\">\n                <el-form>\n                  <el-form-item label=\"评论内容\">\n                    <el-input type=\"textarea\" v-model=\"updateComment\" />\n                  </el-form-item>\n                </el-form>\n                <template #footer>\n                  <span class=\"dialog-footer\">\n                    <el-button @click=\"dialogUpdateCommentFormVisible = false\">取消</el-button>\n                    <el-button type=\"primary\" @click=\"goUpdateComment()\">确定</el-button>\n                  </span>\n                </template>\n              </el-dialog>\n\n              <!--无评论时此处隐藏-->\n              <div class=\"more_bar\" id=\"moreCommentPanel\" style=\"display: none\">\n                <a href=\"/book/comment-1431636283466297344.html\">查看全部评论&gt;</a>\n              </div>\n\n              <div class=\"reply_bar\" id=\"reply_bar\">\n                <div class=\"tit\">\n                  <span class=\"fl font16\">发表评论</span>\n\n                  <span class=\"fr black9\" style=\"display: none\">请先 <a class=\"orange\" href=\"/user/login.html\">登录</a><em\n                      class=\"ml10 mr10\">|</em><a class=\"orange\" href=\"/user/register.html\">注册</a></span>\n                </div>\n\n                <textarea v-model=\"commentContent\" name=\"txtComment\" rows=\"2\" cols=\"20\" id=\"txtComment\"\n                  class=\"replay_text\" placeholder=\"我来说两句...\"></textarea>\n                <div class=\"reply_btn\">\n                  <span class=\"fl black9\"><em class=\"ml5\" id=\"emCommentNum\">0/1000</em> 字</span>\n                  <span class=\"fr\"><a class=\"btn_ora\" href=\"javascript:void(0);\" @click=\"userComment\">发表</a></span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!--作品评论区 end-->\n        </div>\n      </div>\n      <!--left end-->\n\n      <!--right start-->\n      <div class=\"wrap_right fr\">\n        <!--作者专栏s-->\n        <div class=\"wrap_inner author_info mb20\">\n          <div class=\"author_head cf\">\n            <a href=\"javascript:void(0);\" class=\"head\"><img :src=\"author_head\" alt=\"作者头像\" id=\"authorLogoImg\" /></a>\n            <div class=\"msg\">\n              <span class=\"icon_qyzz\">签约作家</span>\n              <h4>\n                <a href=\"javascript:searchByK('冷漠的天蝎')\">{{\n                  book.authorName\n                }}</a>\n              </h4>\n            </div>\n          </div>\n          <div class=\"author_intro cf\">\n            <h4>作者有话说</h4>\n            <div class=\"intro_txt\" id=\"authorNote\">\n              亲亲们，你们的支持是我最大的动力！求点击、求推荐、求书评哦！\n            </div>\n          </div>\n        </div>\n\n        <div id=\"RelateBookOther\" class=\"wrap_inner wrap_right_cont mb20\">\n          <div class=\"title cf\">\n            <h3 class=\"on\">同类推荐</h3>\n          </div>\n          <div class=\"tj_bar\">\n            <ul id=\"recBookList\">\n              <li v-for=\"(item, index) in books\" :key=\"index\">\n                <div class=\"book_intro\">\n                  <div class=\"cover\">\n                    <a href=\"javascript:void(0)\" @click=\"bookDetail(item.id)\"><img :id=\"'bookCover' + `${index}`\"\n                        :src=\"`${imgBaseUrl}` + `${item.picUrl}`\" :alt=\"item.bookName\" /></a>\n                  </div>\n                  <div class=\"dec\">\n                    <a href=\"javascript:void(0)\" @click=\"bookDetail(item.id)\">{{\n                      item.bookName\n                    }}</a>\n                    <a class=\"txt\" href=\"javascript:void(0)\" @click=\"bookDetail(item.id)\" v-html=\"item.bookDesc\"></a>\n                  </div>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <!--right end-->\n    </div>\n  </div>\n\n  <Footer />\n</template>\n\n<script>\nimport \"@/assets/styles/book.css\";\nimport man from \"@/assets/images/man.png\";\nimport { reactive, toRefs, onMounted, onUpdated } from \"vue\";\nimport { ElMessage } from \"element-plus\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport {\n  getBookById,\n  addVisitCount,\n  getLastChapterAbout,\n  listRecBooks,\n  listNewestComments,\n} from \"@/api/book\";\nimport { comment, deleteComment, updateComment } from \"@/api/user\";\nimport { getUid } from \"@/utils/auth\";\nimport Header from \"@/components/common/Header\";\nimport Footer from \"@/components/common/Footer\";\nimport author_head from \"@/assets/images/author_head.png\";\nimport no_comment from \"@/assets/images/no_comment.png\";\nimport { goToAnchor } from \"@/utils\";\nexport default {\n  name: \"book\",\n  components: {\n    Header,\n    Footer,\n  },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    const state = reactive({\n      uid: getUid(),\n      book: {},\n      books: [],\n      chapterAbout: {},\n      commentContent: \"\",\n      newestComments: {},\n      imgBaseUrl: process.env.VUE_APP_BASE_IMG_URL,\n      dialogUpdateCommentFormVisible: false,\n      commentId: \"\",\n      updateComment: \"\",\n    });\n    onMounted(() => {\n      const bookId = route.params.id;\n      loadBook(bookId);\n      loadRecBooks(bookId);\n      loadLastChapterAbout(bookId);\n      loadNewestComments(bookId);\n    });\n\n    onUpdated(() => {\n      console.log(\"onUpdated==========================\");\n      for (let i = 0; i < state.books.length; i++) {\n        document\n          .getElementById(\"bookCover\" + i)\n          .setAttribute(\"onerror\", \"this.src='default.gif';this.onerror=null\");\n      }\n    });\n\n    const loadBook = async (bookId) => {\n      const { data } = await getBookById(bookId);\n      state.book = data;\n      document\n        .getElementById(\"bookCover\")\n        .setAttribute(\"onerror\", \"this.src='default.gif';this.onerror=null\");\n      addBookVisit(bookId);\n    };\n\n    const loadRecBooks = async (bookId) => {\n      const { data } = await listRecBooks({ bookId: bookId });\n      state.books = data;\n    };\n\n    const loadLastChapterAbout = async (bookId) => {\n      const { data } = await getLastChapterAbout({ bookId: bookId });\n      state.chapterAbout = data;\n    };\n\n    const bookContent = (bookId, chapterId) => {\n      router.push({ path: `/book/${bookId}/${chapterId}` });\n    };\n\n    const bookDetail = (bookId) => {\n      router.push({ path: `/book/${bookId}` });\n      loadBook(bookId);\n      loadRecBooks(bookId);\n      loadLastChapterAbout(bookId);\n      loadNewestComments(bookId);\n    };\n\n    const chapterList = (bookId) => {\n      router.push({ path: `/chapter_list/${bookId}` });\n    };\n\n    const addBookVisit = async (bookId) => {\n      addVisitCount({ bookId: bookId });\n    };\n\n    const loadNewestComments = async (bookId) => {\n      const { data } = await listNewestComments({ bookId: bookId });\n      state.newestComments = data;\n    };\n\n    const userComment = async () => {\n      if (!state.commentContent) {\n        ElMessage.error(\"用户评论不能为空！\");\n        return;\n      }\n      if (state.commentContent.length < 10) {\n        ElMessage.error(\"评论不能少于 10 个字符！\");\n        return;\n      }\n      if (state.commentContent.length > 512) {\n        ElMessage.error(\"评论不能多于 512 个字符！\");\n        return;\n      }\n      await comment({\n        bookId: state.book.id,\n        commentContent: state.commentContent,\n      });\n      state.commentContent = \"\";\n      loadNewestComments(state.book.id);\n    };\n\n    const updateUserComment = async (id, comment) => {\n      state.dialogUpdateCommentFormVisible = true;\n      state.updateComment = comment;\n      state.commentId = id;\n    };\n\n    const deleteUserComment = async (id) => {\n      await deleteComment(id);\n      loadNewestComments(state.book.id);\n    };\n\n    const goUpdateComment = async (id) => {\n      state.dialogUpdateCommentFormVisible = false;\n      await updateComment(state.commentId, { content: state.updateComment });\n      loadNewestComments(state.book.id);\n    };\n\n    return {\n      ...toRefs(state),\n      author_head,\n      no_comment,\n      bookContent,\n      bookDetail,\n      chapterList,\n      goToAnchor,\n      userComment,\n      deleteUserComment,\n      man,\n      updateUserComment,\n      goUpdateComment,\n    };\n  },\n  mounted() {\n    $(\".icon_show\").click(function () {\n      $(this).hide();\n      $(\".icon_hide\").show();\n      $(\".intro_txt\").innerHeight(\"auto\");\n    });\n    $(\".icon_hide\").click(function () {\n      $(this).hide();\n      $(\".icon_show\").show();\n      $(\".intro_txt\").innerHeight(\"\");\n    });\n\n    $(\"#AuthorOtherNovel li\").unbind(\"mouseover\");\n\n    $(\"#txtComment\").on(\"input propertychange\", function () {\n      var count = $(this).val().length;\n      $(\"#emCommentNum\").html(count + \"/1000\");\n      if (count > 1000) {\n        $(\"#txtComment\").val($(\"#txtComment\").val().substring(0, 1000));\n      }\n    });\n  },\n};\n</script>\n\n<style>\n.el-button:not(.is-text) {\n  border: #f80;\n  border-color: #f80;\n}\n\n.el-button--primary {\n  --el-button-hover-bg-color: #f80;\n}\n\n.el-button--primary {\n  --el-button-bg-color: #f70;\n}\n\n.el-button {\n  --el-button-hover-text-color: #fafafa;\n}\n\n.el-button {\n  --el-button-hover-bg-color: #ff880061;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}