{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"main box_center cf\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"nav_sub\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"channelWrap channelChapterlist cf mb50\"\n};\nconst _hoisted_4 = {\n  class: \"bookMain\"\n};\nconst _hoisted_5 = {\n  class: \"bookCover cf\"\n};\nconst _hoisted_6 = {\n  class: \"book_info1\"\n};\nconst _hoisted_7 = {\n  class: \"tit\"\n};\nconst _hoisted_8 = {\n  class: \"list\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"作者：\");\nconst _hoisted_10 = {\n  href: \"javascript:void(0)\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\"状态：\");\nconst _hoisted_12 = {\n  class: \"black3\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"总点击：\");\nconst _hoisted_14 = {\n  class: \"black3\",\n  id: \"cTotal\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\"总字数：\");\nconst _hoisted_16 = {\n  class: \"black3\"\n};\nconst _hoisted_17 = {\n  class: \"dirWrap cf\"\n};\nconst _hoisted_18 = {\n  class: \"dirList\"\n};\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = {\n  class: \"red\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Header), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h1\", null, _toDisplayString(_ctx.book.bookName), 1 /* TEXT */), _createCommentVNode(\"<i class=\\\"vip_b\\\">VIP</i>\")]), _createElementVNode(\"ul\", _hoisted_8, [_createElementVNode(\"li\", null, [_createElementVNode(\"span\", null, [_hoisted_9, _createElementVNode(\"a\", _hoisted_10, _toDisplayString(_ctx.book.authorName), 1 /* TEXT */)]), _createElementVNode(\"span\", null, \"类别：\" + _toDisplayString(_ctx.book.categoryName), 1 /* TEXT */), _createElementVNode(\"span\", null, [_hoisted_11, _createElementVNode(\"em\", _hoisted_12, _toDisplayString(_ctx.book.bookStatus == 0 ? \"连载中\" : \"已完结\"), 1 /* TEXT */)]), _createElementVNode(\"span\", null, [_hoisted_13, _createElementVNode(\"em\", _hoisted_14, _toDisplayString(_ctx.book.visitCount), 1 /* TEXT */)]), _createElementVNode(\"span\", null, [_hoisted_15, _createElementVNode(\"em\", _hoisted_16, _toDisplayString(_ctx.book.wordCount), 1 /* TEXT */)])])])])]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"h3\", null, \"正文(\" + _toDisplayString(_ctx.chapterList.length) + \")\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_18, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.chapterList, (item, index) => {\n    return _openBlock(), _createElementBlock(\"ul\", {\n      key: index\n    }, [_createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n      onClick: $event => $setup.bookContent(_ctx.book.id, item.id),\n      href: \"javascript:void(0)\"\n    }, [_createElementVNode(\"span\", null, _toDisplayString(item.chapterName), 1 /* TEXT */), _createElementVNode(\"i\", _hoisted_20, \" [\" + _toDisplayString(item.isVip == 1 ? '收费' : '免费') + \"]\", 1 /* TEXT */)], 8 /* PROPS */, _hoisted_19)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]), _createVNode(_component_Footer)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;EAEOA,KAAK,EAAC;AAAoB;gCAC7BC,oBAEM;EAFDD,KAAK,EAAC;AAAS;;EAGfA,KAAK,EAAC;AAAwC;;EAC5CA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAK;;EAIZA,KAAK,EAAC;AAAM;iDAEN,KAAG;;EAAGE,IAAI,EAAC;AAAoB;kDAI/B,KAAG;;EAAIF,KAAK,EAAC;AAAQ;kDAGrB,MAAI;;EAAIA,KAAK,EAAC,QAAQ;EAACG,EAAE,EAAC;;kDAC1B,MAAI;;EAAIH,KAAK,EAAC;AAAQ;;EAK/BA,KAAK,EAAC;AAAY;;EAEhBA,KAAK,EAAC;AAAS;;;EAIwBA,KAAK,EAAC;AAAK;;;;6DAlC/DI,aAAUC,oBACVJ,oBA4CM,OA5CNK,UA4CM,GA3CJC,UAEM,EACNN,oBAqCM,OArCNO,UAqCM,GApCJP,oBAmCM,OAnCNQ,UAmCM,GAlCJR,oBAoBM,OApBNS,UAoBM,GAnBJT,oBAkBM,OAlBNU,UAkBM,GAjBJV,oBAGM,OAHNW,UAGM,GAFJX,oBAA0B,6BAApBY,SAAI,CAACC,QAAQ,kBACnBC,iDAA+B,IAEjCd,oBAYK,MAZLe,UAYK,GAXHf,oBAUK,aATHA,oBAAoE,2BAA3DA,oBAAoD,KAApDgB,WAAoD,mBAArBJ,SAAI,CAACK,UAAU,oBACvDjB,oBAEC,cADE,KAAG,oBAAEY,SAAI,CAACM,YAAY,kBAEzBlB,oBAEc,4BAFLA,oBAEF,MAFEmB,WAEF,mBADLP,SAAI,CAACQ,UAAU,yCAEjBpB,oBAAwE,4BAA9DA,oBAAuD,MAAvDqB,WAAuD,mBAAtBT,SAAI,CAACU,UAAU,oBAC1DtB,oBAA2D,4BAAjDA,oBAA0C,MAA1CuB,WAA0C,mBAArBX,SAAI,CAACY,SAAS,4BAKrDxB,oBAYM,OAZNyB,WAYM,GAXJzB,oBAAmC,YAA/B,KAAG,oBAAEY,gBAAW,CAACc,MAAM,IAAE,GAAC,iBAC9B1B,oBASM,OATN2B,WASM,sBARJC,oBAMKC,6BANsBjB,gBAAW,GAA1BkB,IAAI,EAACC,KAAK;yBAAtBH,oBAMK;MANoCI,GAAG,EAAED;IAAK,IACjD/B,oBAIK,aAHHA,oBAEI;MAFAiC,OAAK,YAAEC,kBAAW,CAACtB,SAAI,CAACV,EAAE,EAAC4B,IAAI,CAAC5B,EAAE;MAAGD,IAAI,EAAC;QAC5CD,oBAAiC,+BAAzB8B,IAAI,CAACK,WAAW,kBAASnC,oBAAuD,KAAvDoC,WAAuD,EAAxC,IAAE,oBAAEN,IAAI,CAACO,KAAK,uBAAqB,GAAC;0CAUlGlC,aAAUmC","names":["class","_createElementVNode","href","id","_createVNode","_component_Header","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_ctx","bookName","_createCommentVNode","_hoisted_8","_hoisted_10","authorName","categoryName","_hoisted_12","bookStatus","_hoisted_14","visitCount","_hoisted_16","wordCount","_hoisted_17","length","_hoisted_18","_createElementBlock","_Fragment","item","index","key","onClick","$setup","chapterName","_hoisted_20","isVip","_component_Footer"],"sourceRoot":"","sources":["D:\\desktop\\novel-front-web-master\\src\\views\\ChapterList.vue"],"sourcesContent":["<template>\n  <Header />\n  <div class=\"main box_center cf\">\n    <div class=\"nav_sub\">\n      \n    </div>\n    <div class=\"channelWrap channelChapterlist cf mb50\">\n      <div class=\"bookMain\">\n        <div class=\"bookCover cf\">\n          <div class=\"book_info1\">\n            <div class=\"tit\">\n              <h1>{{book.bookName}}</h1>\n              <!--<i class=\"vip_b\">VIP</i>-->\n            </div>\n            <ul class=\"list\">\n              <li>\n                <span>作者：<a href=\"javascript:void(0)\">{{book.authorName}}</a></span>\n                <span\n                  >类别：{{book.categoryName}}</span\n                >\n                <span>状态：<em class=\"black3\">{{\n                  book.bookStatus == 0 ? \"连载中\" : \"已完结\"\n                }}</em></span>\n                <span>总点击：<em class=\"black3\" id=\"cTotal\">{{book.visitCount}}</em></span>\n                <span>总字数：<em class=\"black3\">{{book.wordCount}}</em></span>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"dirWrap cf\">\n          <h3>正文({{chapterList.length}})</h3>\n          <div class=\"dirList\">\n            <ul v-for=\"(item,index) in chapterList\" :key=\"index\">\n              <li>\n                <a @click=\"bookContent(book.id,item.id)\" href=\"javascript:void(0)\">\n                  <span>{{item.chapterName}}</span><i class=\"red\"> [{{item.isVip == 1 ? '收费' : '免费'}}]</i>\n                </a>\n              </li>\n            </ul>\n            \n          </div>\n        </div>\n      </div>\n    </div>\n\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport \"@/assets/styles/book.css\";\nimport { reactive, toRefs, onMounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { getBookById, listChapters } from \"@/api/book\";\nimport Header from \"@/components/common/Header\";\nimport Footer from \"@/components/common/Footer\";\nexport default {\n  name: \"chapterList\",\n  components: {\n    Header,\n    Footer,\n  },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    const state = reactive({\n      book: {},\n      chapterList: [],\n      imgBaseUrl: process.env.VUE_APP_BASE_IMG_URL,\n    });\n    onMounted(() => {\n      const bookId = route.params.bookId;\n      loadBook(bookId);\n      loadChapterList(bookId);\n    });\n\n    const loadBook = async (bookId) => {\n      const { data } = await getBookById(bookId);\n      state.book = data;\n    };\n\n    const loadChapterList = async (bookId) => {\n      const { data } = await listChapters({ bookId: bookId });\n      state.chapterList = data;\n    };\n\n    const bookContent = (bookId, chapterId) => {\n      router.push({ path: `/book/${bookId}/${chapterId}` });\n    };\n\n    const bookDetail = (bookId) => {\n      router.push({ path: `/book/${bookId}` });\n    };\n\n    return {\n      ...toRefs(state),\n      bookContent,\n      bookDetail,\n    };\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}